{"ast":null,"code":"'use strict';\n\nfunction Request(optsOrUrl) {\n  var opts = typeof optsOrUrl === 'string' ? {\n    url: optsOrUrl\n  } : optsOrUrl || {};\n  this.method = opts.method ? opts.method.toUpperCase() : 'GET';\n  this.url = opts.url;\n  this.headers = opts.headers || {};\n  this.body = opts.body;\n  this.timeout = opts.timeout || 0;\n  this.errorOn404 = opts.errorOn404 != null ? opts.errorOn404 : true;\n  this.onload = opts.onload;\n  this.onerror = opts.onerror;\n}\n\nRequest.prototype.abort = function () {\n  if (this.aborted) return;\n  this.aborted = true;\n  this.xhr.abort();\n  return this;\n};\n\nRequest.prototype.header = function (name, value) {\n  var k;\n\n  for (k in this.headers) {\n    if (this.headers.hasOwnProperty(k)) {\n      if (name.toLowerCase() === k.toLowerCase()) {\n        if (arguments.length === 1) {\n          return this.headers[k];\n        }\n\n        delete this.headers[k];\n        break;\n      }\n    }\n  }\n\n  if (value != null) {\n    this.headers[name] = value;\n    return value;\n  }\n};\n\nmodule.exports = Request;","map":null,"metadata":{},"sourceType":"script"}